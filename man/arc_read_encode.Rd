% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/arc_read_encode.R
\name{arc_read_encode}
\alias{arc_read_encode}
\title{Read an ArcGIS layer (or table or ImageServer) and optionally encode domains}
\usage{
arc_read_encode(
  url,
  col_names = TRUE,
  col_select = NULL,
  n_max = Inf,
  name_repair = "unique",
  crs = NULL,
  ...,
  fields = NULL,
  alias = "drop",
  token = arcgisutils::arc_token(),
  encode_field_values = FALSE,
  codes = c("replace", "label")
)
}
\arguments{
\item{url}{The URL of the FeatureLayer, Table, or ImageServer.}

\item{col_names}{Default \code{TRUE}. Column names or name handling rule. \code{col_names} can be \code{TRUE}, \code{FALSE}, \code{NULL}, or a character vector:
\itemize{
\item If \code{TRUE}, use existing default column names for the layer or table. If \code{FALSE} or \code{NULL}, column names will be generated automatically: X1, X2, X3 etc.
\item If \code{col_names} is a character vector, values replace the existing column names. \code{col_names} can't be length 0 or longer than the number of fields in the returned layer.
}}

\item{col_select}{Default \code{NULL}. A character vector of the field names to be returned. By default, all fields are returned.}

\item{n_max}{Defaults to \code{Inf} or an option set with \verb{options("arcgislayers.n_max" = <max records>)}. Maximum number of records to return.}

\item{name_repair}{Default \code{"unique"}. See \code{vctrs::vec_as_names()} for details. If \code{name_repair = NULL} and \code{alias = "replace"} may include invalid names.}

\item{crs}{the spatial reference to be returned. If the CRS is different than the CRS for the input FeatureLayer, a transformation will occur server-side. Ignored if x is a \code{Table}.}

\item{...}{Additional arguments passed to \code{arcgislayers::arc_select()} if URL is a \code{FeatureLayer} or \code{Table} or \code{arcgislayers::arc_raster()} if URL is an \code{ImageLayer.}}

\item{fields}{Default \code{NULL} a character vector of the field names to returned. By default all fields are returned. Ignored if \code{col_names} is supplied.}

\item{alias}{Use of field alias values. Default \code{c("drop", "label", "replace")},. There are three options:
\itemize{
\item \code{"drop"}, field alias values are ignored.
\item \code{"label"}: field alias values are assigned as a label attribute for each field.
\item \code{"replace"}: field alias values replace existing column names. \code{col_names}
}}

\item{token}{your authorization token.}

\item{encode_field_values}{Logical, character vector, or list of character
vectors.
\itemize{
\item \code{FALSE} (the default): do \emph{not} encode any fields.
\item \code{TRUE}: encode \emph{all} fields that have coded-value domains.
\item Specific field or list of fields to replace. Fields that do not have coded value domains are ignored.
}}

\item{codes}{Character scalar, one of \code{"replace"} or \code{"label"}. Passed
through to \code{arcgislayers::encode_field_values()} to control whether domain labels
replace the raw codes or just attach as an attribute.}
}
\value{
If \code{url} is an \code{ImageServer}, a \code{SpatRaster}; otherwise an \code{sf} or
\code{data.frame}.
}
\description{
Read an ArcGIS layer (or table or ImageServer) and optionally encode domains
}
